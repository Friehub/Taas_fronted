import{_ as s,o as a,c as e,ae as t}from"./chunks/framework.Dn7Y7LSn.js";const c=JSON.parse('{"title":"Repo Splitting Guide: Public Frontend, Private Backend","description":"","frontmatter":{},"headers":[],"relativePath":"guides/repo-split.md","filePath":"guides/repo-split.md"}'),n={name:"guides/repo-split.md"};function p(o,i,r,l,h,d){return a(),e("div",null,[...i[0]||(i[0]=[t(`<h1 id="repo-splitting-guide-public-frontend-private-backend" tabindex="-1">Repo Splitting Guide: Public Frontend, Private Backend <a class="header-anchor" href="#repo-splitting-guide-public-frontend-private-backend" aria-label="Permalink to &quot;Repo Splitting Guide: Public Frontend, Private Backend&quot;">​</a></h1><p><strong>Goal:</strong> Publish your Frontends to Vercel (Public Repos) while keeping your Backends secure in your private Mono-repos.</p><p><strong>Method:</strong> &quot;Git Subtree Push&quot;. This allows you to keep your current folder structure exactly as it is, but push <em>copy</em> of the frontend folder to a separate GitHub repository.</p><hr><h2 id="_1-preparation-github-website" tabindex="-1">1. Preparation (GitHub Website) <a class="header-anchor" href="#_1-preparation-github-website" aria-label="Permalink to &quot;1. Preparation (GitHub Website)&quot;">​</a></h2><p>Go to GitHub and create two <strong>NEW, PUBLIC</strong> repositories. Do <em>not</em> initialize them with README/gitignore. Just empty repos.</p><ol><li><strong>Name:</strong> <code>prediction_market_frontend</code> (for Main App)</li><li><strong>Name:</strong> <code>Taas_fronted</code> (for Dashboard)</li></ol><hr><h2 id="_2-split-prediction-app-frontend" tabindex="-1">2. Split <code>prediction_app</code> (Frontend) <a class="header-anchor" href="#_2-split-prediction-app-frontend" aria-label="Permalink to &quot;2. Split \`prediction_app\` (Frontend)&quot;">​</a></h2><p>Run these commands in your terminal:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Go to your existing repo</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~/prediction_market/prediction_app</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 1. Add the new public repo as a &quot;remote&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> remote</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> public-ui</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://github.com/Friehub/prediction_market_frontend.git</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 2. Push ONLY the &#39;frontend&#39; folder to the &#39;main&#39; branch of the new repo</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> subtree</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> push</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --prefix</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> frontend</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> public-ui</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> main</span></span></code></pre></div><p><strong>Result:</strong></p><ul><li>Your <code>prediction_app</code> repo stays exactly the same (Private, Monorepo).</li><li>The <code>prediction-market-ui</code> repo now contains <em>only</em> the code from your <code>frontend</code> folder.</li><li>The root of <code>prediction-market-ui</code> will be the contents of <code>frontend</code> (so <code>package.json</code> is at the top level). <strong>Perfect for Vercel.</strong></li></ul><hr><h2 id="_3-split-taas-private-dashboard" tabindex="-1">3. Split <code>taas-private</code> (Dashboard) <a class="header-anchor" href="#_3-split-taas-private-dashboard" aria-label="Permalink to &quot;3. Split \`taas-private\` (Dashboard)&quot;">​</a></h2><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Go to your existing repo</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~/prediction_market/taas-private</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 1. Add the new public repo as a &quot;remote&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> remote</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> public-dashboard</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://github.com/Friehub/Taas_fronted.git</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 2. Push ONLY the &#39;dashboard&#39; folder to the &#39;main&#39; branch of the new repo</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> subtree</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> push</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --prefix</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dashboard</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> public-dashboard</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> main</span></span></code></pre></div><hr><h2 id="_4-connect-vercel" tabindex="-1">4. Connect Vercel <a class="header-anchor" href="#_4-connect-vercel" aria-label="Permalink to &quot;4. Connect Vercel&quot;">​</a></h2><ol><li>Go to Vercel.</li><li>Import Project.</li><li>Select the <strong>New Public Repos</strong> (<code>prediction-market-ui</code> and <code>taas-dashboard</code>).</li><li><strong>Framework Preset:</strong> Next.js (It should detect it automatically since <code>package.json</code> is now at the root).</li><li><strong>Environment Variables:</strong> Add your <code>NEXT_PUBLIC_API_URL</code> etc. here.</li></ol><hr><h2 id="_5-how-to-update-in-the-future" tabindex="-1">5. How to Update in the Future <a class="header-anchor" href="#_5-how-to-update-in-the-future" aria-label="Permalink to &quot;5. How to Update in the Future&quot;">​</a></h2><p>You continue working in your normal folders (<code>prediction_app</code> / <code>taas-private</code>).</p><p>When you want to deploy a frontend change:</p><ol><li>Commit changes locally as usual.</li><li>Run the push command again:<div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># For Main App</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> subtree</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> push</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --prefix</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> frontend</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> public-ui</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> main</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># For Dashboard</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> subtree</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> push</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --prefix</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dashboard</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> public-dashboard</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> main</span></span></code></pre></div><em>(You can save these as scripts in <code>package.json</code> to make it easier!)</em></li></ol>`,24)])])}const u=s(n,[["render",p]]);export{c as __pageData,u as default};
